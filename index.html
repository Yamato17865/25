<!DOCTYPE html>
<html lang="ru">
<head>
    <!-- –ú–µ—Ç–∞-—Ç–µ–≥–∏ –¥–ª—è –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- –¶–≤–µ—Ç —Ç–µ–º—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤ -->
    <meta name="theme-color" content="#006400">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <title>–¢—Ä–∞–∫—Å–Ø–∫—É—Ç–∏—è - –ö–∞—Ä—Ç–∞ –¥–ª—è –¥–∞–ª—å–Ω–æ–±–æ–π—â–∏–∫–æ–≤</title>
    
    <!-- PWA: –º–∞–Ω–∏—Ñ–µ—Å—Ç –∏ –∏–∫–æ–Ω–∫–∏ -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" href="icons/icon-72x72.png">
    
    <!-- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Leaflet –¥–ª—è –∫–∞—Ä—Ç -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- –ü–ª–∞–≥–∏–Ω Leaflet –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.css" />
    
    <!-- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="css/style.css">
    
    <!-- –®—Ä–∏—Ñ—Ç Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- –®–∞–ø–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <header class="header">
        <!-- –õ–µ–≤–∞—è —á–∞—Å—Ç—å —à–∞–ø–∫–∏ -->
        <div class="header-left">
            <!-- –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é -->
            <button class="menu-btn" id="menuToggle">‚ò∞</button>
            <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
            <div class="app-title">
                <span class="app-name">–¢—Ä–∞–∫—Å–Ø–∫—É—Ç–∏—è</span>
                <span class="app-subtitle">–ö–∞—Ä—Ç–∞ –¥–ª—è –¥–∞–ª—å–Ω–æ–±–æ–π—â–∏–∫–æ–≤</span>
            </div>
        </div>
        <!-- –ü—Ä–∞–≤–∞—è —á–∞—Å—Ç—å —à–∞–ø–∫–∏ -->
        <div class="header-right">
            <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã -->
            <div class="temp-indicator" id="tempIndicator">
                üå°Ô∏è -45¬∞C
            </div>
            <!-- –ö–Ω–æ–ø–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
            <button class="filter-btn" id="filterToggle">‚öôÔ∏è</button>
            <!-- –ö–Ω–æ–ø–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏—è -->
            <button class="locate-btn" id="locateBtn">üìç</button>
        </div>
    </header>

    <!-- –ë–∞–Ω–Ω–µ—Ä —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –Ø–∫—É—Ç–∏–∏ -->
    <div class="yakutia-banner">
        <div class="banner-content">
            <span class="banner-flag">üè¥Û†Å∑Û†Å≥Û†Å£Û†Å¥Û†Åø</span>
            <span class="banner-text">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)</span>
            <span class="banner-icon">‚ùÑÔ∏è</span>
        </div>
    </div>

    <!-- –°–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å—Ç–∏–ª—è –∫–∞—Ä—Ç—ã -->
    <div class="map-selector">
        <select id="mapStyle">
            <option value="yandex_map" selected>–Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã</option>
            <option value="yandex_satellite">–Ø–Ω–¥–µ–∫—Å.–°–ø—É—Ç–Ω–∏–∫</option>
            <option value="yandex_hybrid">–Ø–Ω–¥–µ–∫—Å.–ì–∏–±—Ä–∏–¥</option>
            <option value="rosreestr">–†–æ—Å—Ä–µ–µ—Å—Ç—Ä</option>
            <option value="esri_world">Esri –ö–∞—Ä—Ç—ã</option>
            <option value="esri_satellite">Esri –°–ø—É—Ç–Ω–∏–∫</option>
        </select>
    </div>

    <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞—Ä—Ç—ã -->
    <div id="map"></div>

    <!-- –ö–Ω–æ–ø–∫–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–≤—è–∑–∏ -->
    <button class="emergency-btn" id="emergencyBtn">
        <span class="emergency-icon">üÜò</span>
        <span class="emergency-text">–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–≤—è–∑—å</span>
    </button>

    <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
    <div class="filters-panel" id="filtersPanel">
        <div class="filters-header">
            <h3>üó∫Ô∏è –§–∏–ª—å—Ç—Ä—ã –æ–±—ä–µ–∫—Ç–æ–≤</h3>
            <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏ -->
            <button class="close-filters" id="closeFilters">√ó</button>
        </div>
        
        <div class="filters-content">
            <!-- –°–µ–∫—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ -->
            <div class="filter-section">
                <h4>üèÅ –û—Å–Ω–æ–≤–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</h4>
                <div class="filter-group">
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="fuel">
                        <span class="filter-icon">‚õΩ</span>
                        <span class="filter-text">–ó–∞–ø—Ä–∞–≤–∫–∏</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="parking">
                        <span class="filter-icon">üÖøÔ∏è</span>
                        <span class="filter-text">–ü–∞—Ä–∫–æ–≤–∫–∏</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="hotel">
                        <span class="filter-icon">üè®</span>
                        <span class="filter-text">–ì–æ—Å—Ç–∏–Ω–∏—Ü—ã</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="food">
                        <span class="filter-icon">üçΩÔ∏è</span>
                        <span class="filter-text">–ö–∞—Ñ–µ/–°—Ç–æ–ª–æ–≤—ã–µ</span>
                    </label>
                </div>
            </div>
            
            <!-- –°–µ–∫—Ü–∏—è –∞–≤—Ç–æ—Å–µ—Ä–≤–∏—Å–æ–≤ -->
            <div class="filter-section">
                <h4>üîß –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å—ã</h4>
                <div class="filter-group">
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="service">
                        <span class="filter-icon">üîß</span>
                        <span class="filter-text">–°–¢–û</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="tire">
                        <span class="filter-icon">üõû</span>
                        <span class="filter-text">–®–∏–Ω–æ–º–æ–Ω—Ç–∞–∂</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="wash">
                        <span class="filter-icon">üßº</span>
                        <span class="filter-text">–ú–æ–π–∫–∏</span>
                    </label>
                </div>
            </div>
            
            <!-- –°–µ–∫—Ü–∏—è –æ—Å–æ–±—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ -->
            <div class="filter-section">
                <h4>‚ö†Ô∏è –û—Å–æ–±—ã–µ –æ–±—ä–µ–∫—Ç—ã</h4>
                <div class="filter-group">
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="ferry">
                        <span class="filter-icon">üö¢</span>
                        <span class="filter-text">–ü–∞—Ä–æ–º—ã</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="border">
                        <span class="filter-icon">üõÉ</span>
                        <span class="filter-text">–ü–æ—Å—Ç—ã/–í–µ—Å–æ–≤—ã–µ</span>
                    </label>
                    <label class="filter-item">
                        <input type="checkbox" checked data-type="danger">
                        <span class="filter-icon">‚ö†Ô∏è</span>
                        <span class="filter-text">–°–ª–æ–∂–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏</span>
                    </label>
                </div>
            </div>
            
            <!-- –ö–Ω–æ–ø–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
            <button class="apply-filters" id="applyFilters">–ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã</button>
        </div>
    </div>

    <!-- –õ–µ–≥–µ–Ω–¥–∞ –∫–∞—Ä—Ç—ã -->
    <div class="legend">
        <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏ –ª–µ–≥–µ–Ω–¥—ã -->
        <div class="legend-toggle" id="legendToggle">üìñ –õ–µ–≥–µ–Ω–¥–∞</div>
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –ª–µ–≥–µ–Ω–¥—ã -->
        <div class="legend-content" id="legendContent">
            <div class="legend-item">
                <span class="legend-color" style="background-color: #FF9800;"></span>
                <span>‚õΩ –ó–∞–ø—Ä–∞–≤–∫–∏</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #4CAF50;"></span>
                <span>üÖøÔ∏è –ü–∞—Ä–∫–æ–≤–∫–∏</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #2196F3;"></span>
                <span>üè® –ì–æ—Å—Ç–∏–Ω–∏—Ü—ã</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #9C27B0;"></span>
                <span>üçΩÔ∏è –ü–∏—Ç–∞–Ω–∏–µ</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #F44336;"></span>
                <span>üîß –ê–≤—Ç–æ—Å–µ—Ä–≤–∏—Å—ã</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #3F51B5;"></span>
                <span>üö¢ –ü–∞—Ä–æ–º—ã</span>
            </div>
            <div class="legend-item">
                <span class="legend-color" style="background-color: #FF0000;"></span>
                <span>‚ö†Ô∏è –û–ø–∞—Å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏</span>
            </div>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–π —Ç–æ—á–∫–∏ -->
    <button class="add-point-btn" id="addPointBtn">
        <span class="add-point-icon">+</span>
        <span class="add-point-text">–î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É</span>
    </button>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Ñ–∞–π–ª–æ–≤ -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.locatecontrol/dist/L.Control.Locate.min.js"></script>
    <!-- –§–∞–π–ª —Å –¥–∞–Ω–Ω—ã–º–∏ —Ç–æ—á–µ–∫ -->
    <script src="js/data.js"></script>
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
    <script src="js/app.js"></script>
    
    <!-- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker –¥–ª—è PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(reg => console.log('Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
                    .catch(err => console.log('–û—à–∏–±–∫–∞ SW:', err));
            });
        }
    </script>
</body>
</html>